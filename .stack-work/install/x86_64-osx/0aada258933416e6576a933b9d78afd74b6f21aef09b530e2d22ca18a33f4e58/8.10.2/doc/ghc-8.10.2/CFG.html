<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>CFG</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-8.10.2: The GHC API</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">CFG</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:CFG">CFG</a> = EdgeInfoMap <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CfgEdge">CfgEdge</a> = <a href="#v:CfgEdge">CfgEdge</a> {<ul class="subs"><li><a href="#v:edgeFrom">edgeFrom</a> :: !<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a></li><li><a href="#v:edgeTo">edgeTo</a> :: !<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a></li><li><a href="#v:edgeInfo">edgeInfo</a> :: !<a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:EdgeInfo">EdgeInfo</a> = <a href="#v:EdgeInfo">EdgeInfo</a> {<ul class="subs"><li><a href="#v:transitionSource">transitionSource</a> :: !<a href="CFG.html#t:TransitionSource" title="CFG">TransitionSource</a></li><li><a href="#v:edgeWeight">edgeWeight</a> :: !<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:EdgeWeight">EdgeWeight</a> = <a href="#v:EdgeWeight">EdgeWeight</a> {<ul class="subs"><li><a href="#v:weightToDouble">weightToDouble</a> :: <a href="GhcPrelude.html#t:Double" title="GhcPrelude">Double</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:TransitionSource">TransitionSource</a><ul class="subs"><li>= <a href="#v:CmmSource">CmmSource</a> { <ul class="subs"><li><a href="#v:trans_cmmNode">trans_cmmNode</a> :: <a href="CmmNode.html#t:CmmNode" title="CmmNode">CmmNode</a> <a href="Hoopl-Block.html#t:O" title="Hoopl.Block">O</a> <a href="Hoopl-Block.html#t:C" title="Hoopl.Block">C</a></li><li><a href="#v:trans_info">trans_info</a> :: BranchInfo</li></ul> }</li><li>| <a href="#v:AsmCodeGen">AsmCodeGen</a></li></ul></li><li class="src short"><a href="#v:addWeightEdge">addWeightEdge</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:addEdge">addEdge</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:delEdge">delEdge</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:delNode">delNode</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:addNodesBetween">addNodesBetween</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [(<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>)] -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:shortcutWeightMap">shortcutWeightMap</a> :: <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> (<a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>) -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:reverseEdges">reverseEdges</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:filterEdges">filterEdges</a> :: (<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a>) -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:addImmediateSuccessor">addImmediateSuccessor</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:mkWeightInfo">mkWeightInfo</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a></li><li class="src short"><a href="#v:adjustEdgeWeight">adjustEdgeWeight</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; (<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a>) -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:setEdgeWeight">setEdgeWeight</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:infoEdgeList">infoEdgeList</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [<a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a>]</li><li class="src short"><a href="#v:edgeList">edgeList</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [Edge]</li><li class="src short"><a href="#v:getSuccessorEdges">getSuccessorEdges</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; [(<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a>)]</li><li class="src short"><a href="#v:getSuccessors">getSuccessors</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; [<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>]</li><li class="src short"><a href="#v:getSuccEdgesSorted">getSuccEdgesSorted</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; [(<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a>)]</li><li class="src short"><a href="#v:getEdgeInfo">getEdgeInfo</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a></li><li class="src short"><a href="#v:getCfgNodes">getCfgNodes</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>]</li><li class="src short"><a href="#v:hasNode">hasNode</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a></li><li class="src short"><a href="#v:loopMembers">loopMembers</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a></li><li class="src short"><a href="#v:loopLevels">loopLevels</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Int" title="GhcPrelude">Int</a></li><li class="src short"><a href="#v:loopInfo">loopInfo</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; LoopInfo</li><li class="src short"><a href="#v:getCfg">getCfg</a> :: <a href="DynFlags.html#t:CfgWeights" title="DynFlags">CfgWeights</a> -&gt; <a href="Cmm.html#t:CmmGraph" title="Cmm">CmmGraph</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:getCfgProc">getCfgProc</a> :: <a href="DynFlags.html#t:CfgWeights" title="DynFlags">CfgWeights</a> -&gt; <a href="Cmm.html#t:RawCmmDecl" title="Cmm">RawCmmDecl</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:pprEdgeWeights">pprEdgeWeights</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a></li><li class="src short"><a href="#v:sanityCheckCfg">sanityCheckCfg</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="Hoopl-Label.html#t:LabelSet" title="Hoopl.Label">LabelSet</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a></li><li class="src short"><a href="#v:optimizeCFG">optimizeCFG</a> :: <a href="DynFlags.html#t:CfgWeights" title="DynFlags">CfgWeights</a> -&gt; <a href="Cmm.html#t:RawCmmDecl" title="Cmm">RawCmmDecl</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a></li><li class="src short"><a href="#v:mkGlobalWeights">mkGlobalWeights</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; (<a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Double" title="GhcPrelude">Double</a>, <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> (<a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Double" title="GhcPrelude">Double</a>))</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CFG" class="def">CFG</a> = EdgeInfoMap <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> <a href="#t:CFG" class="selflink">#</a></p><div class="doc"><p>A control flow graph where edges have been annotated with a weight.
 Implemented as IntMap (IntMap <a href="edgeData">edgeData</a>)
 We must uphold the invariant that for each edge A -&gt; B we must have:
 A entry B in the outer map.
 A entry B in the map we get when looking up A.
 Maintaining this invariant is useful as any failed lookup now indicates
 an actual error in code which might go unnoticed for a while
 otherwise.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CfgEdge" class="def">CfgEdge</a> <a href="#t:CfgEdge" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CfgEdge" class="def">CfgEdge</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:edgeFrom" class="def">edgeFrom</a> :: !<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:edgeTo" class="def">edgeTo</a> :: !<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:edgeInfo" class="def">edgeInfo</a> :: !<a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CfgEdge">Instances</h4><details id="i:CfgEdge" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CfgEdge:Eq:1"></span> <a href="GhcPrelude.html#t:Eq" title="GhcPrelude">Eq</a> <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a></span> <a href="#t:CfgEdge" class="selflink">#</a></td><td class="doc"><p>Careful! Since we assume there is at most one edge from A to B
   the Eq instance does not consider weight.</p></td></tr><tr><td colspan="2"><details id="i:id:CfgEdge:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CfgEdge:Ord:2"></span> <a href="GhcPrelude.html#t:Ord" title="GhcPrelude">Ord</a> <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a></span> <a href="#t:CfgEdge" class="selflink">#</a></td><td class="doc"><p>Edges are sorted ascending pointwise by weight, source and destination</p></td></tr><tr><td colspan="2"><details id="i:id:CfgEdge:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="GhcPrelude.html#t:Ordering" title="GhcPrelude">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CfgEdge:Outputable:3"></span> <a href="Outputable.html#t:Outputable" title="Outputable">Outputable</a> <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a></span> <a href="#t:CfgEdge" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CfgEdge:Outputable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="GhcPrelude.html#t:Rational" title="GhcPrelude">Rational</a> -&gt; <a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EdgeInfo" class="def">EdgeInfo</a> <a href="#t:EdgeInfo" class="selflink">#</a></p><div class="doc"><p>Information about edges</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EdgeInfo" class="def">EdgeInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:transitionSource" class="def">transitionSource</a> :: !<a href="CFG.html#t:TransitionSource" title="CFG">TransitionSource</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:edgeWeight" class="def">edgeWeight</a> :: !<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EdgeInfo">Instances</h4><details id="i:EdgeInfo" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeInfo:Eq:1"></span> <a href="GhcPrelude.html#t:Eq" title="GhcPrelude">Eq</a> <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a></span> <a href="#t:EdgeInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeInfo:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeInfo:Outputable:2"></span> <a href="Outputable.html#t:Outputable" title="Outputable">Outputable</a> <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a></span> <a href="#t:EdgeInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeInfo:Outputable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="GhcPrelude.html#t:Rational" title="GhcPrelude">Rational</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:EdgeWeight" class="def">EdgeWeight</a> <a href="#t:EdgeWeight" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EdgeWeight" class="def">EdgeWeight</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:weightToDouble" class="def">weightToDouble</a> :: <a href="GhcPrelude.html#t:Double" title="GhcPrelude">Double</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EdgeWeight">Instances</h4><details id="i:EdgeWeight" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeWeight:Enum:1"></span> <a href="GhcPrelude.html#t:Enum" title="GhcPrelude">Enum</a> <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></span> <a href="#t:EdgeWeight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeWeight:Enum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:succ">succ</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Enum.html#succ" class="link">Source</a> <a href="#v:succ" class="selflink">#</a></p><p class="src"><a href="#v:pred">pred</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Enum.html#pred" class="link">Source</a> <a href="#v:pred" class="selflink">#</a></p><p class="src"><a href="#v:toEnum">toEnum</a> :: <a href="GhcPrelude.html#t:Int" title="GhcPrelude">Int</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Enum.html#toEnum" class="link">Source</a> <a href="#v:toEnum" class="selflink">#</a></p><p class="src"><a href="#v:fromEnum">fromEnum</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Int" title="GhcPrelude">Int</a> <a href="../base-4.14.1.0/src/GHC-Enum.html#fromEnum" class="link">Source</a> <a href="#v:fromEnum" class="selflink">#</a></p><p class="src"><a href="#v:enumFrom">enumFrom</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; [<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a>] <a href="../base-4.14.1.0/src/GHC-Enum.html#enumFrom" class="link">Source</a> <a href="#v:enumFrom" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThen">enumFromThen</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; [<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a>] <a href="../base-4.14.1.0/src/GHC-Enum.html#enumFromThen" class="link">Source</a> <a href="#v:enumFromThen" class="selflink">#</a></p><p class="src"><a href="#v:enumFromTo">enumFromTo</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; [<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a>] <a href="../base-4.14.1.0/src/GHC-Enum.html#enumFromTo" class="link">Source</a> <a href="#v:enumFromTo" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThenTo">enumFromThenTo</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; [<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a>] <a href="../base-4.14.1.0/src/GHC-Enum.html#enumFromThenTo" class="link">Source</a> <a href="#v:enumFromThenTo" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeWeight:Eq:2"></span> <a href="GhcPrelude.html#t:Eq" title="GhcPrelude">Eq</a> <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></span> <a href="#t:EdgeWeight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeWeight:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeWeight:Fractional:3"></span> <a href="GhcPrelude.html#t:Fractional" title="GhcPrelude">Fractional</a> <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></span> <a href="#t:EdgeWeight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeWeight:Fractional:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-47-">(/)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Real.html#%2F" class="link">Source</a> <a href="#v:-47-" class="selflink">#</a></p><p class="src"><a href="#v:recip">recip</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Real.html#recip" class="link">Source</a> <a href="#v:recip" class="selflink">#</a></p><p class="src"><a href="#v:fromRational">fromRational</a> :: <a href="GhcPrelude.html#t:Rational" title="GhcPrelude">Rational</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Real.html#fromRational" class="link">Source</a> <a href="#v:fromRational" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeWeight:Num:4"></span> <a href="GhcPrelude.html#t:Num" title="GhcPrelude">Num</a> <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></span> <a href="#t:EdgeWeight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeWeight:Num:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-43-">(+)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Num.html#%2B" class="link">Source</a> <a href="#v:-43-" class="selflink">#</a></p><p class="src"><a href="#v:-45-">(-)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Num.html#-" class="link">Source</a> <a href="#v:-45-" class="selflink">#</a></p><p class="src"><a href="#v:-42-">(*)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Num.html#%2A" class="link">Source</a> <a href="#v:-42-" class="selflink">#</a></p><p class="src"><a href="#v:negate">negate</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Num.html#negate" class="link">Source</a> <a href="#v:negate" class="selflink">#</a></p><p class="src"><a href="#v:abs">abs</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Num.html#abs" class="link">Source</a> <a href="#v:abs" class="selflink">#</a></p><p class="src"><a href="#v:signum">signum</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Num.html#signum" class="link">Source</a> <a href="#v:signum" class="selflink">#</a></p><p class="src"><a href="#v:fromInteger">fromInteger</a> :: <a href="GhcPrelude.html#t:Integer" title="GhcPrelude">Integer</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="../base-4.14.1.0/src/GHC-Num.html#fromInteger" class="link">Source</a> <a href="#v:fromInteger" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeWeight:Ord:5"></span> <a href="GhcPrelude.html#t:Ord" title="GhcPrelude">Ord</a> <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></span> <a href="#t:EdgeWeight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeWeight:Ord:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Ordering" title="GhcPrelude">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeWeight:Real:6"></span> <a href="GhcPrelude.html#t:Real" title="GhcPrelude">Real</a> <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></span> <a href="#t:EdgeWeight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeWeight:Real:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRational">toRational</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="GhcPrelude.html#t:Rational" title="GhcPrelude">Rational</a> <a href="../base-4.14.1.0/src/GHC-Real.html#toRational" class="link">Source</a> <a href="#v:toRational" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EdgeWeight:Outputable:7"></span> <a href="Outputable.html#t:Outputable" title="Outputable">Outputable</a> <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a></span> <a href="#t:EdgeWeight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EdgeWeight:Outputable:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="GhcPrelude.html#t:Rational" title="GhcPrelude">Rational</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TransitionSource" class="def">TransitionSource</a> <a href="#t:TransitionSource" class="selflink">#</a></p><div class="doc"><p>Can we trace back a edge to a specific Cmm Node
 or has it been introduced during assembly codegen. We use this to maintain
 some information which would otherwise be lost during the
 Cmm <a href="-">-</a> asm transition.
 See also Note [Inverting Conditional Branches]</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CmmSource" class="def">CmmSource</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:trans_cmmNode" class="def">trans_cmmNode</a> :: <a href="CmmNode.html#t:CmmNode" title="CmmNode">CmmNode</a> <a href="Hoopl-Block.html#t:O" title="Hoopl.Block">O</a> <a href="Hoopl-Block.html#t:C" title="Hoopl.Block">C</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:trans_info" class="def">trans_info</a> :: BranchInfo</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:AsmCodeGen" class="def">AsmCodeGen</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TransitionSource">Instances</h4><details id="i:TransitionSource" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TransitionSource:Eq:1"></span> <a href="GhcPrelude.html#t:Eq" title="GhcPrelude">Eq</a> <a href="CFG.html#t:TransitionSource" title="CFG">TransitionSource</a></span> <a href="#t:TransitionSource" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TransitionSource:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="CFG.html">CFG</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CFG.html#t:TransitionSource" title="CFG">TransitionSource</a> -&gt; <a href="CFG.html#t:TransitionSource" title="CFG">TransitionSource</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CFG.html#t:TransitionSource" title="CFG">TransitionSource</a> -&gt; <a href="CFG.html#t:TransitionSource" title="CFG">TransitionSource</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:addWeightEdge" class="def">addWeightEdge</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:addWeightEdge" class="selflink">#</a></p><div class="doc"><p>Adds a edge with the given weight to the cfg
   If there already existed an edge it is overwritten.
   `addWeightEdge from to weight cfg`</p></div></div><div class="top"><p class="src"><a id="v:addEdge" class="def">addEdge</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:addEdge" class="selflink">#</a></p><div class="doc"><p>Adds a new edge, overwrites existing edges if present</p></div></div><div class="top"><p class="src"><a id="v:delEdge" class="def">delEdge</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:delEdge" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delNode" class="def">delNode</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:delNode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addNodesBetween" class="def">addNodesBetween</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [(<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>)] -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:addNodesBetween" class="selflink">#</a></p><div class="doc"><p>Insert a block in the control flow between two other blocks.
 We pass a list of tuples (A,B,C) where
 * A -&gt; C: Old edge
 * A -&gt; B -&gt; C : New Arc, where B is the new block.
 It's possible that a block has two jumps to the same block
 in the assembly code. However we still only store a single edge for
 these cases.
 We assign the old edge info to the edge A -&gt; B and assign B -&gt; C the
 weight of an unconditional jump.</p></div></div><div class="top"><p class="src"><a id="v:shortcutWeightMap" class="def">shortcutWeightMap</a> :: <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> (<a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>) -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:shortcutWeightMap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:reverseEdges" class="def">reverseEdges</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:reverseEdges" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:filterEdges" class="def">filterEdges</a> :: (<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a>) -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:filterEdges" class="selflink">#</a></p><div class="doc"><p>Filter the CFG with a custom function f.
   Paramaeters are `f from to edgeInfo`</p></div></div><div class="top"><p class="src"><a id="v:addImmediateSuccessor" class="def">addImmediateSuccessor</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:addImmediateSuccessor" class="selflink">#</a></p><div class="doc"><p>Sometimes we insert a block which should unconditionally be executed
   after a given block. This function updates the CFG for these cases.
  So we get A -&gt; B    =&gt; A -&gt; A' -&gt; B
                               --              -&gt; C    =&gt;         -&gt; C</p></div></div><div class="top"><p class="src"><a id="v:mkWeightInfo" class="def">mkWeightInfo</a> :: <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> <a href="#v:mkWeightInfo" class="selflink">#</a></p><div class="doc"><p>Convenience function, generate edge info based
   on weight not originating from cmm.</p></div></div><div class="top"><p class="src"><a id="v:adjustEdgeWeight" class="def">adjustEdgeWeight</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; (<a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a>) -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:adjustEdgeWeight" class="selflink">#</a></p><div class="doc"><p>Adjust the weight between the blocks using the given function.
   If there is no such edge returns the original map.</p></div></div><div class="top"><p class="src"><a id="v:setEdgeWeight" class="def">setEdgeWeight</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:EdgeWeight" title="CFG">EdgeWeight</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:setEdgeWeight" class="selflink">#</a></p><div class="doc"><p>Set the weight between the blocks to the given weight.
   If there is no such edge returns the original map.</p></div></div><div class="top"><p class="src"><a id="v:infoEdgeList" class="def">infoEdgeList</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [<a href="CFG.html#t:CfgEdge" title="CFG">CfgEdge</a>] <a href="#v:infoEdgeList" class="selflink">#</a></p><div class="doc"><p>Returns a unordered list of all edges with info</p></div></div><div class="top"><p class="src"><a id="v:edgeList" class="def">edgeList</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [Edge] <a href="#v:edgeList" class="selflink">#</a></p><div class="doc"><p>Returns a unordered list of all edges without weights</p></div></div><div class="top"><p class="src"><a id="v:getSuccessorEdges" class="def">getSuccessorEdges</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; [(<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a>)] <a href="#v:getSuccessorEdges" class="selflink">#</a></p><div class="doc"><p>Get successors of a given node with edge weights.</p></div></div><div class="top"><p class="src"><a id="v:getSuccessors" class="def">getSuccessors</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; [<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>] <a href="#v:getSuccessors" class="selflink">#</a></p><div class="doc"><p>Get successors of a given node without edge weights.</p></div></div><div class="top"><p class="src"><a id="v:getSuccEdgesSorted" class="def">getSuccEdgesSorted</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; [(<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>, <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a>)] <a href="#v:getSuccEdgesSorted" class="selflink">#</a></p><div class="doc"><p>Destinations from bid ordered by weight (descending)</p></div></div><div class="top"><p class="src"><a id="v:getEdgeInfo" class="def">getEdgeInfo</a> :: <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="CFG.html#t:EdgeInfo" title="CFG">EdgeInfo</a> <a href="#v:getEdgeInfo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCfgNodes" class="def">getCfgNodes</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; [<a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a>] <a href="#v:getCfgNodes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hasNode" class="def">hasNode</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:hasNode" class="selflink">#</a></p><div class="doc"><p>Is this block part of this graph?</p></div></div><div class="top"><p class="src"><a id="v:loopMembers" class="def">loopMembers</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:loopMembers" class="selflink">#</a></p><div class="doc"><p>Determine loop membership of blocks based on SCC analysis
   This is faster but only gives yes/no answers.</p></div></div><div class="top"><p class="src"><a id="v:loopLevels" class="def">loopLevels</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Int" title="GhcPrelude">Int</a> <a href="#v:loopLevels" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:loopInfo" class="def">loopInfo</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; LoopInfo <a href="#v:loopInfo" class="selflink">#</a></p><div class="doc"><p>Determine loop membership of blocks based on Dominator analysis.
   This is slower but gives loop levels instead of just loop membership.
   However it only detects natural loops. Irreducible control flow is not
   recognized even if it loops. But that is rare enough that we don't have
   to care about that special case.</p></div></div><div class="top"><p class="src"><a id="v:getCfg" class="def">getCfg</a> :: <a href="DynFlags.html#t:CfgWeights" title="DynFlags">CfgWeights</a> -&gt; <a href="Cmm.html#t:CmmGraph" title="Cmm">CmmGraph</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:getCfg" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCfgProc" class="def">getCfgProc</a> :: <a href="DynFlags.html#t:CfgWeights" title="DynFlags">CfgWeights</a> -&gt; <a href="Cmm.html#t:RawCmmDecl" title="Cmm">RawCmmDecl</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:getCfgProc" class="selflink">#</a></p><div class="doc"><p>Generate weights for a Cmm proc based on some simple heuristics.</p></div></div><div class="top"><p class="src"><a id="v:pprEdgeWeights" class="def">pprEdgeWeights</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:pprEdgeWeights" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sanityCheckCfg" class="def">sanityCheckCfg</a> :: <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="Hoopl-Label.html#t:LabelSet" title="Hoopl.Label">LabelSet</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:sanityCheckCfg" class="selflink">#</a></p><div class="doc"><p>Check if the nodes in the cfg and the set of blocks are the same.
   In a case of a missmatch we panic and show the difference.</p></div></div><div class="top"><p class="src"><a id="v:optimizeCFG" class="def">optimizeCFG</a> :: <a href="DynFlags.html#t:CfgWeights" title="DynFlags">CfgWeights</a> -&gt; <a href="Cmm.html#t:RawCmmDecl" title="Cmm">RawCmmDecl</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> <a href="#v:optimizeCFG" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkGlobalWeights" class="def">mkGlobalWeights</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; <a href="BlockId.html#t:BlockId" title="BlockId">BlockId</a> -&gt; <a href="CFG.html#t:CFG" title="CFG">CFG</a> -&gt; (<a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Double" title="GhcPrelude">Double</a>, <a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> (<a href="Hoopl-Label.html#t:LabelMap" title="Hoopl.Label">LabelMap</a> <a href="GhcPrelude.html#t:Double" title="GhcPrelude">Double</a>)) <a href="#v:mkGlobalWeights" class="selflink">#</a></p><div class="doc"><p>We take in a CFG which has on its edges weights which are
   relative only to other edges originating from the same node.</p><p>We return a CFG for which each edge represents a GLOBAL weight.
   This means edge weights are comparable across the whole graph.</p><p>For irreducible control flow results might be imprecise, otherwise they
   are reliable.</p><p>The algorithm is based on the Paper
   &quot;Static Branch Prediction and Program Profile Analysis&quot; by Y Wu, JR Larus
   The only big change is that we go over the nodes in the body of loops in
   reverse post order. Which is required for diamond control flow to work probably.</p><p>We also apply a few prediction heuristics (based on the same paper)</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>