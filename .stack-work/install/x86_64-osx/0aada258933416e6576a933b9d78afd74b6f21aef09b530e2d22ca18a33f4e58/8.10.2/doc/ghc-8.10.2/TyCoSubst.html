<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>TyCoSubst</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-8.10.2: The GHC API</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">TyCoSubst</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Substitutions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Substitution into types and coercions.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:TCvSubst">TCvSubst</a> = <a href="#v:TCvSubst">TCvSubst</a> <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TvSubstEnv">TvSubstEnv</a> = <a href="VarEnv.html#t:TyVarEnv" title="VarEnv">TyVarEnv</a> <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CvSubstEnv">CvSubstEnv</a> = <a href="VarEnv.html#t:CoVarEnv" title="VarEnv">CoVarEnv</a> <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></li><li class="src short"><a href="#v:emptyTvSubstEnv">emptyTvSubstEnv</a> :: <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a></li><li class="src short"><a href="#v:emptyCvSubstEnv">emptyCvSubstEnv</a> :: <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a></li><li class="src short"><a href="#v:composeTCvSubstEnv">composeTCvSubstEnv</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>) -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>) -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>)</li><li class="src short"><a href="#v:composeTCvSubst">composeTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:emptyTCvSubst">emptyTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:mkEmptyTCvSubst">mkEmptyTCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:isEmptyTCvSubst">isEmptyTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a></li><li class="src short"><a href="#v:mkTCvSubst">mkTCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>) -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:mkTvSubst">mkTvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:mkCvSubst">mkCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:getTvSubstEnv">getTvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a></li><li class="src short"><a href="#v:getCvSubstEnv">getCvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a></li><li class="src short"><a href="#v:getTCvInScope">getTCvInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a></li><li class="src short"><a href="#v:getTCvSubstRangeFVs">getTCvSubstRangeFVs</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="VarSet.html#t:VarSet" title="VarSet">VarSet</a></li><li class="src short"><a href="#v:isInScope">isInScope</a> :: <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a></li><li class="src short"><a href="#v:notElemTCvSubst">notElemTCvSubst</a> :: <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a></li><li class="src short"><a href="#v:setTvSubstEnv">setTvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:setCvSubstEnv">setCvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:zapTCvSubst">zapTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTCvInScope">extendTCvInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTCvInScopeList">extendTCvInScopeList</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:Var" title="Var">Var</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTCvInScopeSet">extendTCvInScopeSet</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="VarSet.html#t:VarSet" title="VarSet">VarSet</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTCvSubst">extendTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTCvSubstWithClone">extendTCvSubstWithClone</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendCvSubst">extendCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendCvSubstWithClone">extendCvSubstWithClone</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTvSubst">extendTvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTvSubstBinderAndInScope">extendTvSubstBinderAndInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:TyCoBinder" title="Type">TyCoBinder</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTvSubstWithClone">extendTvSubstWithClone</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTvSubstList">extendTvSubstList</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:Var" title="Var">Var</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTvSubstAndInScope">extendTvSubstAndInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:extendTCvSubstList">extendTCvSubstList</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:Var" title="Var">Var</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:unionTCvSubst">unionTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:zipTyEnv">zipTyEnv</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a></li><li class="src short"><a href="#v:zipCoEnv">zipCoEnv</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a></li><li class="src short"><a href="#v:mkTyCoInScopeSet">mkTyCoInScopeSet</a> :: [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a></li><li class="src short"><a href="#v:zipTvSubst">zipTvSubst</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:zipCvSubst">zipCvSubst</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:zipTCvSubst">zipTCvSubst</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:mkTvSubstPrs">mkTvSubstPrs</a> :: [(<a href="Var.html#t:TyVar" title="Var">TyVar</a>, <a href="Type.html#t:Type" title="Type">Type</a>)] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></li><li class="src short"><a href="#v:substTyWith">substTyWith</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substTyWithCoVars">substTyWithCoVars</a> :: [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substTysWith">substTysWith</a> :: [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>]</li><li class="src short"><a href="#v:substTysWithCoVars">substTysWithCoVars</a> :: [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>]</li><li class="src short"><a href="#v:substCoWith">substCoWith</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></li><li class="src short"><a href="#v:substTy">substTy</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substTyAddInScope">substTyAddInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substTyUnchecked">substTyUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substTysUnchecked">substTysUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>]</li><li class="src short"><a href="#v:substThetaUnchecked">substThetaUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a></li><li class="src short"><a href="#v:substTyWithUnchecked">substTyWithUnchecked</a> :: [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substCoUnchecked">substCoUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></li><li class="src short"><a href="#v:substCoWithUnchecked">substCoWithUnchecked</a> :: [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></li><li class="src short"><a href="#v:substTyWithInScope">substTyWithInScope</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substTys">substTys</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>]</li><li class="src short"><a href="#v:substTheta">substTheta</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a></li><li class="src short"><a href="#v:lookupTyVar">lookupTyVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substCo">substCo</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></li><li class="src short"><a href="#v:substCos">substCos</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>]</li><li class="src short"><a href="#v:substCoVar">substCoVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></li><li class="src short"><a href="#v:substCoVars">substCoVars</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>]</li><li class="src short"><a href="#v:lookupCoVar">lookupCoVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></li><li class="src short"><a href="#v:cloneTyVarBndr">cloneTyVarBndr</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Unique.html#t:Unique" title="Unique">Unique</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyVar" title="Var">TyVar</a>)</li><li class="src short"><a href="#v:cloneTyVarBndrs">cloneTyVarBndrs</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; <a href="UniqSupply.html#t:UniqSupply" title="UniqSupply">UniqSupply</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, [<a href="Var.html#t:TyVar" title="Var">TyVar</a>])</li><li class="src short"><a href="#v:substVarBndr">substVarBndr</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>)</li><li class="src short"><a href="#v:substVarBndrs">substVarBndrs</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>] -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>])</li><li class="src short"><a href="#v:substTyVarBndr">substTyVarBndr</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyVar" title="Var">TyVar</a>)</li><li class="src short"><a href="#v:substTyVarBndrs">substTyVarBndrs</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, [<a href="Var.html#t:TyVar" title="Var">TyVar</a>])</li><li class="src short"><a href="#v:substCoVarBndr">substCoVarBndr</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:CoVar" title="Var">CoVar</a>)</li><li class="src short"><a href="#v:substTyVar">substTyVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a></li><li class="src short"><a href="#v:substTyVars">substTyVars</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>]</li><li class="src short"><a href="#v:substTyCoVars">substTyCoVars</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>]</li><li class="src short"><a href="#v:substForAllCoBndr">substForAllCoBndr</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="TyCoRep.html#t:KindCoercion" title="TyCoRep">KindCoercion</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>, <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>)</li><li class="src short"><a href="#v:substVarBndrUsing">substVarBndrUsing</a> :: (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a>) -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>)</li><li class="src short"><a href="#v:substForAllCoBndrUsing">substForAllCoBndrUsing</a> :: <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> -&gt; (<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>) -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="TyCoRep.html#t:KindCoercion" title="TyCoRep">KindCoercion</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>, <a href="TyCoRep.html#t:KindCoercion" title="TyCoRep">KindCoercion</a>)</li><li class="src short"><a href="#v:checkValidSubst">checkValidSubst</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; a -&gt; a</li><li class="src short"><a href="#v:isValidTCvSubst">isValidTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Substitutions</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TCvSubst" class="def">TCvSubst</a> <a href="#t:TCvSubst" class="selflink">#</a></p><div class="doc"><p>Type &amp; coercion substitution</p><p><a id="tcvsubst_invariant"></a>
 The following invariants must hold of a <code><a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></code>:</p><ol><li>The in-scope set is needed <em>only</em> to
 guide the generation of fresh uniques</li><li>In particular, the <em>kind</em> of the type variables in
 the in-scope set is not relevant</li><li>The substitution is only applied ONCE! This is because
 in general such application will not reach a fixed point.</li></ol></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TCvSubst" class="def">TCvSubst</a> <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TCvSubst">Instances</h4><details id="i:TCvSubst" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TCvSubst:Outputable:1"></span> <a href="Outputable.html#t:Outputable" title="Outputable">Outputable</a> <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></span> <a href="#t:TCvSubst" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TCvSubst:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="TyCoSubst.html">TyCoSubst</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="GhcPrelude.html#t:Rational" title="GhcPrelude">Rational</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TvSubstEnv" class="def">TvSubstEnv</a> = <a href="VarEnv.html#t:TyVarEnv" title="VarEnv">TyVarEnv</a> <a href="Type.html#t:Type" title="Type">Type</a> <a href="#t:TvSubstEnv" class="selflink">#</a></p><div class="doc"><p>A substitution of <code><a href="Type.html#t:Type" title="Type">Type</a></code>s for <code><a href="Var.html#t:TyVar" title="Var">TyVar</a></code>s
                 and <code><a href="Type.html#t:Kind" title="Type">Kind</a></code>s for <code><a href="Var.html#t:KindVar" title="Var">KindVar</a></code>s</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CvSubstEnv" class="def">CvSubstEnv</a> = <a href="VarEnv.html#t:CoVarEnv" title="VarEnv">CoVarEnv</a> <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> <a href="#t:CvSubstEnv" class="selflink">#</a></p><div class="doc"><p>A substitution of <code><a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></code>s for <code><a href="Var.html#t:CoVar" title="Var">CoVar</a></code>s</p></div></div><div class="top"><p class="src"><a id="v:emptyTvSubstEnv" class="def">emptyTvSubstEnv</a> :: <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> <a href="#v:emptyTvSubstEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyCvSubstEnv" class="def">emptyCvSubstEnv</a> :: <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a> <a href="#v:emptyCvSubstEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:composeTCvSubstEnv" class="def">composeTCvSubstEnv</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>) -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>) -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>) <a href="#v:composeTCvSubstEnv" class="selflink">#</a></p><div class="doc"><p><code>(compose env1 env2)(x)</code> is <code>env1(env2(x))</code>; i.e. apply <code>env2</code> then <code>env1</code>.
 It assumes that both are idempotent.
 Typically, <code>env1</code> is the refinement to a base substitution <code>env2</code></p></div></div><div class="top"><p class="src"><a id="v:composeTCvSubst" class="def">composeTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:composeTCvSubst" class="selflink">#</a></p><div class="doc"><p>Composes two substitutions, applying the second one provided first,
 like in function composition.</p></div></div><div class="top"><p class="src"><a id="v:emptyTCvSubst" class="def">emptyTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:emptyTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkEmptyTCvSubst" class="def">mkEmptyTCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:mkEmptyTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isEmptyTCvSubst" class="def">isEmptyTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:isEmptyTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTCvSubst" class="def">mkTCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; (<a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a>, <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a>) -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:mkTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTvSubst" class="def">mkTvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:mkTvSubst" class="selflink">#</a></p><div class="doc"><p>Make a TCvSubst with specified tyvar subst and empty covar subst</p></div></div><div class="top"><p class="src"><a id="v:mkCvSubst" class="def">mkCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:mkCvSubst" class="selflink">#</a></p><div class="doc"><p>Make a TCvSubst with specified covar subst and empty tyvar subst</p></div></div><div class="top"><p class="src"><a id="v:getTvSubstEnv" class="def">getTvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> <a href="#v:getTvSubstEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCvSubstEnv" class="def">getCvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a> <a href="#v:getCvSubstEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTCvInScope" class="def">getTCvInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> <a href="#v:getTCvInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTCvSubstRangeFVs" class="def">getTCvSubstRangeFVs</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="VarSet.html#t:VarSet" title="VarSet">VarSet</a> <a href="#v:getTCvSubstRangeFVs" class="selflink">#</a></p><div class="doc"><p>Returns the free variables of the types in the range of a substitution as
 a non-deterministic set.</p></div></div><div class="top"><p class="src"><a id="v:isInScope" class="def">isInScope</a> :: <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:isInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:notElemTCvSubst" class="def">notElemTCvSubst</a> :: <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:notElemTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setTvSubstEnv" class="def">setTvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:setTvSubstEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setCvSubstEnv" class="def">setCvSubstEnv</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:setCvSubstEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:zapTCvSubst" class="def">zapTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:zapTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTCvInScope" class="def">extendTCvInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTCvInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTCvInScopeList" class="def">extendTCvInScopeList</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:Var" title="Var">Var</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTCvInScopeList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTCvInScopeSet" class="def">extendTCvInScopeSet</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="VarSet.html#t:VarSet" title="VarSet">VarSet</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTCvInScopeSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTCvSubst" class="def">extendTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTCvSubstWithClone" class="def">extendTCvSubstWithClone</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTCvSubstWithClone" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendCvSubst" class="def">extendCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendCvSubstWithClone" class="def">extendCvSubstWithClone</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendCvSubstWithClone" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTvSubst" class="def">extendTvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTvSubstBinderAndInScope" class="def">extendTvSubstBinderAndInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:TyCoBinder" title="Type">TyCoBinder</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTvSubstBinderAndInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTvSubstWithClone" class="def">extendTvSubstWithClone</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTvSubstWithClone" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTvSubstList" class="def">extendTvSubstList</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:Var" title="Var">Var</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTvSubstList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTvSubstAndInScope" class="def">extendTvSubstAndInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTvSubstAndInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTCvSubstList" class="def">extendTCvSubstList</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:Var" title="Var">Var</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:extendTCvSubstList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unionTCvSubst" class="def">unionTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:unionTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:zipTyEnv" class="def">zipTyEnv</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TvSubstEnv" title="TyCoSubst">TvSubstEnv</a> <a href="#v:zipTyEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:zipCoEnv" class="def">zipCoEnv</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="TyCoSubst.html#t:CvSubstEnv" title="TyCoSubst">CvSubstEnv</a> <a href="#v:zipCoEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTyCoInScopeSet" class="def">mkTyCoInScopeSet</a> :: [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> <a href="#v:mkTyCoInScopeSet" class="selflink">#</a></p><div class="doc"><p>Generates an in-scope set from the free variables in a list of types
 and a list of coercions</p></div></div><div class="top"><p class="src"><a id="v:zipTvSubst" class="def">zipTvSubst</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:zipTvSubst" class="selflink">#</a></p><div class="doc"><p>Generates the in-scope set for the <code><a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></code> from the types in the incoming
 environment. No CoVars, please!</p></div></div><div class="top"><p class="src"><a id="v:zipCvSubst" class="def">zipCvSubst</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:zipCvSubst" class="selflink">#</a></p><div class="doc"><p>Generates the in-scope set for the <code><a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></code> from the types in the incoming
 environment.  No TyVars, please!</p></div></div><div class="top"><p class="src"><a id="v:zipTCvSubst" class="def">zipTCvSubst</a> :: <a href="Util.html#t:HasDebugCallStack" title="Util">HasDebugCallStack</a> =&gt; [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:zipTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTvSubstPrs" class="def">mkTvSubstPrs</a> :: [(<a href="Var.html#t:TyVar" title="Var">TyVar</a>, <a href="Type.html#t:Type" title="Type">Type</a>)] -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> <a href="#v:mkTvSubstPrs" class="selflink">#</a></p><div class="doc"><p>Generates the in-scope set for the <code><a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a></code> from the types in the
 incoming environment. No CoVars, please!</p></div></div><div class="top"><p class="src"><a id="v:substTyWith" class="def">substTyWith</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTyWith" class="selflink">#</a></p><div class="doc"><p>Type substitution, see <code><a href="TyCoSubst.html#v:zipTvSubst" title="TyCoSubst">zipTvSubst</a></code></p></div></div><div class="top"><p class="src"><a id="v:substTyWithCoVars" class="def">substTyWithCoVars</a> :: [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTyWithCoVars" class="selflink">#</a></p><div class="doc"><p>Substitute covars within a type</p></div></div><div class="top"><p class="src"><a id="v:substTysWith" class="def">substTysWith</a> :: [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] <a href="#v:substTysWith" class="selflink">#</a></p><div class="doc"><p>Type substitution, see <code><a href="TyCoSubst.html#v:zipTvSubst" title="TyCoSubst">zipTvSubst</a></code></p></div></div><div class="top"><p class="src"><a id="v:substTysWithCoVars" class="def">substTysWithCoVars</a> :: [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] <a href="#v:substTysWithCoVars" class="selflink">#</a></p><div class="doc"><p>Type substitution, see <code><a href="TyCoSubst.html#v:zipTvSubst" title="TyCoSubst">zipTvSubst</a></code></p></div></div><div class="top"><p class="src"><a id="v:substCoWith" class="def">substCoWith</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> <a href="#v:substCoWith" class="selflink">#</a></p><div class="doc"><p>Coercion substitution, see <code><a href="TyCoSubst.html#v:zipTvSubst" title="TyCoSubst">zipTvSubst</a></code></p></div></div><div class="top"><p class="src"><a id="v:substTy" class="def">substTy</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTy" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="Type.html#t:Type" title="Type">Type</a></code>
 The substitution has to satisfy the invariants described in
 Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:substTyAddInScope" class="def">substTyAddInScope</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTyAddInScope" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="Type.html#t:Type" title="Type">Type</a></code> after adding the free variables of the type
 to the in-scope set. This is useful for the case when the free variables
 aren't already in the in-scope set or easily available.
 See also Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:substTyUnchecked" class="def">substTyUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTyUnchecked" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="Type.html#t:Type" title="Type">Type</a></code> disabling the sanity checks.
 The problems that the sanity checks in substTy catch are described in
 Note [The substitution invariant].
 The goal of #11371 is to migrate all the calls of substTyUnchecked to
 substTy and remove this function. Please don't use in new code.</p></div></div><div class="top"><p class="src"><a id="v:substTysUnchecked" class="def">substTysUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] <a href="#v:substTysUnchecked" class="selflink">#</a></p><div class="doc"><p>Substitute within several <code><a href="Type.html#t:Type" title="Type">Type</a></code>s disabling the sanity checks.
 The problems that the sanity checks in substTys catch are described in
 Note [The substitution invariant].
 The goal of #11371 is to migrate all the calls of substTysUnchecked to
 substTys and remove this function. Please don't use in new code.</p></div></div><div class="top"><p class="src"><a id="v:substThetaUnchecked" class="def">substThetaUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a> <a href="#v:substThetaUnchecked" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="Type.html#t:ThetaType" title="Type">ThetaType</a></code> disabling the sanity checks.
 The problems that the sanity checks in substTys catch are described in
 Note [The substitution invariant].
 The goal of #11371 is to migrate all the calls of substThetaUnchecked to
 substTheta and remove this function. Please don't use in new code.</p></div></div><div class="top"><p class="src"><a id="v:substTyWithUnchecked" class="def">substTyWithUnchecked</a> :: [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTyWithUnchecked" class="selflink">#</a></p><div class="doc"><p>Type substitution, see <code><a href="TyCoSubst.html#v:zipTvSubst" title="TyCoSubst">zipTvSubst</a></code>. Disables sanity checks.
 The problems that the sanity checks in substTy catch are described in
 Note [The substitution invariant].
 The goal of #11371 is to migrate all the calls of substTyUnchecked to
 substTy and remove this function. Please don't use in new code.</p></div></div><div class="top"><p class="src"><a id="v:substCoUnchecked" class="def">substCoUnchecked</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> <a href="#v:substCoUnchecked" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></code> disabling sanity checks.
 The problems that the sanity checks in substCo catch are described in
 Note [The substitution invariant].
 The goal of #11371 is to migrate all the calls of substCoUnchecked to
 substCo and remove this function. Please don't use in new code.</p></div></div><div class="top"><p class="src"><a id="v:substCoWithUnchecked" class="def">substCoWithUnchecked</a> :: [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> <a href="#v:substCoWithUnchecked" class="selflink">#</a></p><div class="doc"><p>Coercion substitution, see <code><a href="TyCoSubst.html#v:zipTvSubst" title="TyCoSubst">zipTvSubst</a></code>. Disables sanity checks.
 The problems that the sanity checks in substCo catch are described in
 Note [The substitution invariant].
 The goal of #11371 is to migrate all the calls of substCoUnchecked to
 substCo and remove this function. Please don't use in new code.</p></div></div><div class="top"><p class="src"><a id="v:substTyWithInScope" class="def">substTyWithInScope</a> :: <a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTyWithInScope" class="selflink">#</a></p><div class="doc"><p>Substitute tyvars within a type using a known <code><a href="VarEnv.html#t:InScopeSet" title="VarEnv">InScopeSet</a></code>.
 Pre-condition: the <code>in_scope</code> set should satisfy Note [The substitution
 invariant]; specifically it should include the free vars of <code>tys</code>,
 and of <code>ty</code> minus the domain of the subst.</p></div></div><div class="top"><p class="src"><a id="v:substTys" class="def">substTys</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] <a href="#v:substTys" class="selflink">#</a></p><div class="doc"><p>Substitute within several <code><a href="Type.html#t:Type" title="Type">Type</a></code>s
 The substitution has to satisfy the invariants described in
 Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:substTheta" class="def">substTheta</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a> -&gt; <a href="Type.html#t:ThetaType" title="Type">ThetaType</a> <a href="#v:substTheta" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="Type.html#t:ThetaType" title="Type">ThetaType</a></code>
 The substitution has to satisfy the invariants described in
 Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:lookupTyVar" class="def">lookupTyVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:lookupTyVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substCo" class="def">substCo</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> <a href="#v:substCo" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></code>
 The substitution has to satisfy the invariants described in
 Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:substCos" class="def">substCos</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] <a href="#v:substCos" class="selflink">#</a></p><div class="doc"><p>Substitute within several <code><a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a></code>s
 The substitution has to satisfy the invariants described in
 Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:substCoVar" class="def">substCoVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> <a href="#v:substCoVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substCoVars" class="def">substCoVars</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:CoVar" title="Var">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] <a href="#v:substCoVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupCoVar" class="def">lookupCoVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:Var" title="Var">Var</a> -&gt; <a href="GhcPrelude.html#t:Maybe" title="GhcPrelude">Maybe</a> <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> <a href="#v:lookupCoVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cloneTyVarBndr" class="def">cloneTyVarBndr</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Unique.html#t:Unique" title="Unique">Unique</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyVar" title="Var">TyVar</a>) <a href="#v:cloneTyVarBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cloneTyVarBndrs" class="def">cloneTyVarBndrs</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; <a href="UniqSupply.html#t:UniqSupply" title="UniqSupply">UniqSupply</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, [<a href="Var.html#t:TyVar" title="Var">TyVar</a>]) <a href="#v:cloneTyVarBndrs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substVarBndr" class="def">substVarBndr</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>) <a href="#v:substVarBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substVarBndrs" class="def">substVarBndrs</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>] -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>]) <a href="#v:substVarBndrs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substTyVarBndr" class="def">substTyVarBndr</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyVar" title="Var">TyVar</a>) <a href="#v:substTyVarBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substTyVarBndrs" class="def">substTyVarBndrs</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, [<a href="Var.html#t:TyVar" title="Var">TyVar</a>]) <a href="#v:substTyVarBndrs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substCoVarBndr" class="def">substCoVarBndr</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:CoVar" title="Var">CoVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:CoVar" title="Var">CoVar</a>) <a href="#v:substCoVarBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substTyVar" class="def">substTyVar</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyVar" title="Var">TyVar</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> <a href="#v:substTyVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substTyVars" class="def">substTyVars</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyVar" title="Var">TyVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] <a href="#v:substTyVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substTyCoVars" class="def">substTyCoVars</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>] -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] <a href="#v:substTyCoVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substForAllCoBndr" class="def">substForAllCoBndr</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="TyCoRep.html#t:KindCoercion" title="TyCoRep">KindCoercion</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>, <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>) <a href="#v:substForAllCoBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substVarBndrUsing" class="def">substVarBndrUsing</a> :: (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a> -&gt; <a href="Type.html#t:Type" title="Type">Type</a>) -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>) <a href="#v:substVarBndrUsing" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substForAllCoBndrUsing" class="def">substForAllCoBndrUsing</a> :: <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> -&gt; (<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>) -&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a> -&gt; <a href="TyCoRep.html#t:KindCoercion" title="TyCoRep">KindCoercion</a> -&gt; (<a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a>, <a href="Var.html#t:TyCoVar" title="Var">TyCoVar</a>, <a href="TyCoRep.html#t:KindCoercion" title="TyCoRep">KindCoercion</a>) <a href="#v:substForAllCoBndrUsing" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkValidSubst" class="def">checkValidSubst</a> :: <a href="Util.html#t:HasCallStack" title="Util">HasCallStack</a> =&gt; <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; [<a href="Type.html#t:Type" title="Type">Type</a>] -&gt; [<a href="Coercion.html#t:Coercion" title="Coercion">Coercion</a>] -&gt; a -&gt; a <a href="#v:checkValidSubst" class="selflink">#</a></p><div class="doc"><p>This checks if the substitution satisfies the invariant from
 Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:isValidTCvSubst" class="def">isValidTCvSubst</a> :: <a href="TyCoSubst.html#t:TCvSubst" title="TyCoSubst">TCvSubst</a> -&gt; <a href="GhcPrelude.html#t:Bool" title="GhcPrelude">Bool</a> <a href="#v:isValidTCvSubst" class="selflink">#</a></p><div class="doc"><p>When calling <code><a href="TyCoSubst.html#v:substTy" title="TyCoSubst">substTy</a></code> it should be the case that the in-scope set in
 the substitution is a superset of the free vars of the range of the
 substitution.
 See also Note [The substitution invariant].</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>